<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>infix FFI Library: t/003_type_system_api.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">infix FFI Library<span id="projectnumber">&#160;0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_75a01b229474ab4722425a88156bb54e.html">t</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">003_type_system_api.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Tests the infix_type_* API functions for correctness and error handling.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="double__tap_8h_source.html">common/double_tap.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="infix_8h_source.html">infix/infix.h</a>&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for 003_type_system_api.c:</div>
<div class="dyncontent">
<div class="center"><img src="003__type__system__api_8c__incl.png" border="0" usemap="#at_2003__type__system__api_8c" alt=""/></div>
<map name="at_2003__type__system__api_8c" id="at_2003__type__system__api_8c">
<area shape="rect" title="Tests the infix_type_* API functions for correctness and error handling." alt="" coords="194,5,378,31"/>
<area shape="rect" href="double__tap_8h.html" title="A simple, header&#45;only TAP14&#45;compatible testing framework for C." alt="" coords="5,79,172,104"/>
<area shape="poly" title=" " alt="" coords="255,33,135,76,133,71,253,28"/>
<area shape="rect" href="infix_8h.html" title="The main public header for the infix FFI library." alt="" coords="196,79,291,104"/>
<area shape="poly" title=" " alt="" coords="281,32,259,68,255,66,277,30"/>
<area shape="rect" title=" " alt="" coords="213,225,287,251"/>
<area shape="poly" title=" " alt="" coords="303,29,332,55,363,92,375,113,381,135,382,157,374,179,359,196,341,210,302,228,300,223,339,205,356,192,369,176,377,156,376,136,370,116,358,95,328,59,299,33"/>
<area shape="rect" title=" " alt="" coords="288,152,359,177"/>
<area shape="poly" title=" " alt="" coords="292,30,306,78,320,138,315,139,301,79,287,32"/>
<area shape="rect" title=" " alt="" coords="21,225,103,251"/>
<area shape="poly" title=" " alt="" coords="196,105,92,129,48,143,27,154,21,168,24,183,43,213,38,216,19,185,16,167,23,150,46,138,91,124,195,100"/>
<area shape="poly" title=" " alt="" coords="247,104,252,212,246,212,241,105"/>
<area shape="poly" title=" " alt="" coords="258,102,302,141,298,145,254,106"/>
<area shape="rect" href="compat__c23_8h.html" title="Provides compatibility shims for C23 features in a C17/C11 project." alt="" coords="37,152,212,177"/>
<area shape="poly" title=" " alt="" coords="226,106,157,147,155,142,223,102"/>
<area shape="poly" title=" " alt="" coords="116,179,83,217,79,213,112,176"/>
<area shape="poly" title=" " alt="" coords="146,175,219,216,216,221,143,180"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTestStruct.html">TestStruct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionTestUnion.html">TestUnion</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a9b81ed48855c1bae164617432068fab8" id="r_a9b81ed48855c1bae164617432068fab8"><td class="memItemLeft" align="right" valign="top"><a id="a9b81ed48855c1bae164617432068fab8" name="a9b81ed48855c1bae164617432068fab8"></a>
typedef int64_t&#160;</td><td class="memItemRight" valign="bottom"><b>TestArray</b>[10]</td></tr>
<tr class="separator:a9b81ed48855c1bae164617432068fab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a94178ce6e8361476fc291284888896de" id="r_a94178ce6e8361476fc291284888896de"><td class="memItemLeft" align="right" valign="top"><a id="a94178ce6e8361476fc291284888896de" name="a94178ce6e8361476fc291284888896de"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>subtest</b> (&quot;infix_type_create_struct API validation&quot;)</td></tr>
<tr class="separator:a94178ce6e8361476fc291284888896de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82fda2174e869d540bd32bc2dcd1a012" id="r_a82fda2174e869d540bd32bc2dcd1a012"><td class="memItemLeft" align="right" valign="top"><a id="a82fda2174e869d540bd32bc2dcd1a012" name="a82fda2174e869d540bd32bc2dcd1a012"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>subtest</b> (&quot;infix_type_create_union API validation&quot;)</td></tr>
<tr class="separator:a82fda2174e869d540bd32bc2dcd1a012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f2a1910e23be717dbb2a3d28c87c8b1" id="r_a1f2a1910e23be717dbb2a3d28c87c8b1"><td class="memItemLeft" align="right" valign="top"><a id="a1f2a1910e23be717dbb2a3d28c87c8b1" name="a1f2a1910e23be717dbb2a3d28c87c8b1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>subtest</b> (&quot;infix_type_create_array API validation&quot;)</td></tr>
<tr class="separator:a1f2a1910e23be717dbb2a3d28c87c8b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a648a3eb4fb2a248a4e4de8cdaa5b8d21" id="r_a648a3eb4fb2a248a4e4de8cdaa5b8d21"><td class="memItemLeft" align="right" valign="top"><a id="a648a3eb4fb2a248a4e4de8cdaa5b8d21" name="a648a3eb4fb2a248a4e4de8cdaa5b8d21"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>subtest</b> (&quot;infix_type_create_enum API validation&quot;)</td></tr>
<tr class="separator:a648a3eb4fb2a248a4e4de8cdaa5b8d21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b0f24ff53729766e8e20d5c5c70fd8c" id="r_a3b0f24ff53729766e8e20d5c5c70fd8c"><td class="memItemLeft" align="right" valign="top"><a id="a3b0f24ff53729766e8e20d5c5c70fd8c" name="a3b0f24ff53729766e8e20d5c5c70fd8c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>subtest</b> (&quot;Forward trampoline introspection API&quot;)</td></tr>
<tr class="separator:a3b0f24ff53729766e8e20d5c5c70fd8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a67c1cbb549407d754fe1894f74b40c3e" id="r_a67c1cbb549407d754fe1894f74b40c3e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="003__type__system__api_8c.html#a67c1cbb549407d754fe1894f74b40c3e">TEST</a></td></tr>
<tr class="separator:a67c1cbb549407d754fe1894f74b40c3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Tests the infix_type_* API functions for correctness and error handling. </p>
<p>Copyright (c) 2025 Sanko Robinson</p>
<p>This source code is dual-licensed under the Artistic License 2.0 or the MIT License. You may choose to use this code under the terms of either license.</p>
<p>SPDX-License-Identifier: (Artistic-2.0 OR MIT)</p>
<p>The documentation blocks within this file are licensed under the Creative Commons Attribution 4.0 International License (CC BY 4.0).</p>
<p>SPDX-License-Identifier: CC-BY-4.0</p>
<p>This test suite focuses on the internal consistency of the type system's public API, rather than its use in FFI calls. It ensures that the functions for creating structs, unions, and arrays behave as expected under both normal and exceptional conditions.</p>
<p>The tests verify:</p><ol type="1">
<li><b>Correctness:</b> That <code>infix_type_create_struct</code>, <code>_union</code>, and <code>_array</code> calculate the size and alignment of types in a way that matches the C compiler's own <code>sizeof</code> and <code>_Alignof</code> operators.</li>
<li><b>Error Handling:</b> That the creation functions correctly reject invalid arguments (e.g., NULL pointers for required parameters) and return the appropriate error status. </li>
</ol>
</div><h2 class="groupheader">Variable Documentation</h2>
<a id="a67c1cbb549407d754fe1894f74b40c3e" name="a67c1cbb549407d754fe1894f74b40c3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67c1cbb549407d754fe1894f74b40c3e">&#9670;&#160;</a></span>TEST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div>
<div class="line">    plan(5)</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
